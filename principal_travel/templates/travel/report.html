{% extends 'base.html' %}
{% load app_filters %}

{% block content %}
<div class="dropdown">
  <input type="button" name="selectedValue" value="show"/>
  <button class="dropdown-menu" type="button" data-toggle="dropdown" onclick="selectedValue()">
    Year
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dLabel">
    {% for annual_report in annual_report_list %}
<<<<<<< HEAD
    <li><a  id="dLabel" data-target="#" href="{% url 'report' %}?year={{annual_report}}" data-toggle="dropdown" role="button">{{annual_report}}</a></li>
=======
    <li><a href="?{% current_url request 'year' annual_report %}">{{annual_report}}</a></li>
>>>>>>> d0a5e4c48f51a35e91b857a1a92fbdf64f370ee0
    {% endfor %}
  </ul>
</div>
<div class="btn-group dropup">
  <input type="button" name="selectedValue" value="show"/>
  <button class="dropdown-menu" type="button" data-toggle="dropdown" onclick="selectedValue()">
    Report Type
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dLabel">
    {% for report_type in report_type_list %}
<<<<<<< HEAD
    <li><a id="dLabel" data-target="#" href="{% url 'report' %}?by={{report_type}}" data-toggle="dropdown" role="button">{{report_type}}</a></li>
=======
    <li><a href="?{% current_url request 'by' report_type %}"> {{report_type}}</a></li>
>>>>>>> d0a5e4c48f51a35e91b857a1a92fbdf64f370ee0
    {% endfor %}
  </ul>
</div>
<div>
  <button type="submit" href="{% url 'report' %}?year={{annual_report}}+?by={{report_type}}">
    Submit
  </submit>
</div>
<div>
  <table class="table table-bordered" id="report-table">
    <thead class="thead-default">
      <tr>
        <th scope='col'>{{year}}</th>
        {% for month in months %}
        <th scope='col' >{{month.1}}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for attribute in attributes %}
      <tr>
        <td class="col-md-1">
          {{attribute.0}}
        </td>
        {% for month in months %}
        <td class="col-md-1">
            {% if data_list|get_item:attribute.0|length > 0 %}
            {% with data_list|get_item:attribute.0|get_item:month.0 as count %}
            {% if count > 0 %}
            <a href="{% url 'trip_list' %}?month={{month.0}}&amp;year={{year}}{% if attribute.1 %}&amp;{{query_string}}={{attribute.1}}{% endif %}">{{count}}</a>{% endif %}{% endwith %}{% endif %}</td>{% endfor %}
      {% endfor %}
      </tr>
  </tbody>
  </table>
</div>
{% endblock %}
